<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 700">
  <!-- 背景 -->
  <rect width="1000" height="700" fill="#f8f9fa" rx="12" ry="12"/>
  
  <!-- タイトル -->
  <text x="500" y="40" font-family="Arial, sans-serif" font-size="28" text-anchor="middle" font-weight="bold" fill="#333333">CloudPix アーキテクチャ</text>
  
  <!-- AWS クラウド枠 -->
  <rect x="50" y="70" width="900" height="610" fill="white" stroke="#232F3E" stroke-width="2" rx="15" ry="15"/>
  <text x="80" y="100" font-family="Arial, sans-serif" font-size="20" fill="#232F3E" font-weight="bold">AWS Cloud</text>
  
  <!-- クライアントセクション -->
  <rect x="80" y="120" width="240" height="120" fill="#f1f8ff" stroke="#b0c9e7" stroke-width="2" rx="8" ry="8"/>
  <text x="200" y="145" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold" fill="#333333">クライアント</text>
  
  <!-- ユーザーアイコン -->
  <circle cx="120" cy="180" r="20" fill="#b0c9e7"/>
  <path d="M120,170 Q120,160 130,160 Q140,160 140,170 L140,175 Q140,185 120,185 Q100,185 100,175 L100,170 Q100,160 110,160 Q120,160 120,170" fill="#4078c0"/>
  <circle cx="120" cy="155" r="12" fill="#4078c0"/>
  
  <!-- フロントエンドアプリケーション -->
  <rect x="150" y="165" width="150" height="60" fill="white" stroke="#4078c0" stroke-width="1.5" rx="5" ry="5"/>
  <text x="225" y="185" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333333">フロントエンド</text>
  <text x="225" y="205" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333333">アプリケーション</text>
  
  <!-- 認証セクション -->
  <rect x="80" y="260" width="240" height="100" fill="#f6ebf9" stroke="#cbacda" stroke-width="2" rx="8" ry="8"/>
  <text x="200" y="285" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold" fill="#333333">Amazon Cognito</text>
  
  <!-- Cognitoコンポーネント -->
  <rect x="100" y="300" width="200" height="45" fill="white" stroke="#9467bd" stroke-width="1.5" rx="5" ry="5"/>
  <text x="200" y="325" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">ユーザープール認証</text>
  
  <!-- API Gateway セクション -->
  <rect x="350" y="120" width="200" height="80" fill="#e6f7ff" stroke="#91d5ff" stroke-width="2" rx="8" ry="8"/>
  <text x="450" y="150" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold" fill="#333333">Amazon API Gateway</text>
  
  <!-- API Gateway エンドポイント -->
  <rect x="365" y="165" width="170" height="25" fill="white" stroke="#91d5ff" stroke-width="1.5" rx="3" ry="3"/>
  <text x="450" y="182" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">REST API エンドポイント</text>
  
  <!-- Lambda Functions セクション -->
  <rect x="350" y="220" width="200" height="320" fill="#fff7e6" stroke="#ffd591" stroke-width="2" rx="8" ry="8"/>
  <text x="450" y="245" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold" fill="#333333">AWS Lambda</text>
  
  <!-- Lambda Functions -->
  <rect x="365" y="260" width="170" height="45" fill="white" stroke="#fa8c16" stroke-width="1.5" rx="5" ry="5"/>
  <text x="450" y="286" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">Upload Function</text>
  
  <rect x="365" y="315" width="170" height="45" fill="white" stroke="#fa8c16" stroke-width="1.5" rx="5" ry="5"/>
  <text x="450" y="341" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">List Function</text>
  
  <rect x="365" y="370" width="170" height="45" fill="white" stroke="#fa8c16" stroke-width="1.5" rx="5" ry="5"/>
  <text x="450" y="396" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">Thumbnail Function</text>
  
  <rect x="365" y="425" width="170" height="45" fill="white" stroke="#fa8c16" stroke-width="1.5" rx="5" ry="5"/>
  <text x="450" y="451" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">Tags Function</text>
  
  <!-- Lambda Middleware Stack -->
  <rect x="365" y="480" width="170" height="50" fill="#f9f0ff" stroke="#d3adf7" stroke-width="1.5" rx="5" ry="5"/>
  <text x="450" y="495" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">Middleware Stack</text>
  <text x="450" y="515" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">認証・ログ・メトリクス</text>
  
  <!-- DynamoDB セクション -->
  <rect x="580" y="120" width="350" height="140" fill="#f0f5ff" stroke="#adc6ff" stroke-width="2" rx="8" ry="8"/>
  <text x="755" y="145" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold" fill="#333333">Amazon DynamoDB</text>
  
  <!-- DynamoDB Tables -->
  <rect x="600" y="165" width="140" height="70" fill="white" stroke="#1a54d9" stroke-width="1.5" rx="5" ry="5"/>
  <text x="670" y="190" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">メタデータテーブル</text>
  <text x="670" y="210" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">画像情報・サムネイル</text>
  
  <rect x="770" y="165" width="140" height="70" fill="white" stroke="#1a54d9" stroke-width="1.5" rx="5" ry="5"/>
  <text x="840" y="190" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">タグテーブル</text>
  <text x="840" y="210" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">画像タグ管理</text>
  
  <!-- S3 バケットセクション -->
  <rect x="580" y="280" width="350" height="120" fill="#f6ffed" stroke="#b7eb8f" stroke-width="2" rx="8" ry="8"/>
  <text x="755" y="305" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold" fill="#333333">Amazon S3</text>
  
  <!-- S3 バケット -->
  <rect x="600" y="325" width="310" height="55" fill="white" stroke="#52c41a" stroke-width="1.5" rx="5" ry="5"/>
  <text x="755" y="350" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">画像バケット (cloudpix-images-*)</text>
  <text x="680" y="370" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">/uploads</text>
  <text x="830" y="370" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">/thumbnails</text>
  
  <!-- モニタリングセクション -->
  <rect x="580" y="420" width="350" height="200" fill="#fff2e8" stroke="#ffbb96" stroke-width="2" rx="8" ry="8"/>
  <text x="755" y="445" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold" fill="#333333">モニタリング</text>
  
  <!-- CloudWatch -->
  <rect x="600" y="460" width="140" height="60" fill="white" stroke="#fa541c" stroke-width="1.5" rx="5" ry="5"/>
  <text x="670" y="485" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">CloudWatch</text>
  <text x="670" y="505" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">Logs & Metrics</text>
  
  <!-- X-Ray -->
  <rect x="770" y="460" width="140" height="60" fill="white" stroke="#fa541c" stroke-width="1.5" rx="5" ry="5"/>
  <text x="840" y="485" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">AWS X-Ray</text>
  <text x="840" y="505" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">トレーシング</text>
  
  <!-- SNS -->
  <rect x="600" y="540" width="140" height="60" fill="white" stroke="#fa541c" stroke-width="1.5" rx="5" ry="5"/>
  <text x="670" y="565" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">Amazon SNS</text>
  <text x="670" y="585" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">アラート通知</text>
  
  <!-- Dashboard -->
  <rect x="770" y="540" width="140" height="60" fill="white" stroke="#fa541c" stroke-width="1.5" rx="5" ry="5"/>
  <text x="840" y="565" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">ダッシュボード</text>
  <text x="840" y="585" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">リアルタイム監視</text>
  
  <!-- ECR セクション -->
  <rect x="80" y="380" width="240" height="200" fill="#efffef" stroke="#b7eb8f" stroke-width="2" rx="8" ry="8"/>
  <text x="200" y="405" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" font-weight="bold" fill="#333333">Amazon ECR</text>
  
  <!-- ECR Repositories -->
  <rect x="100" y="425" width="200" height="30" fill="white" stroke="#52c41a" stroke-width="1.5" rx="3" ry="3"/>
  <text x="200" y="445" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">cloudpix-upload</text>
  
  <rect x="100" y="465" width="200" height="30" fill="white" stroke="#52c41a" stroke-width="1.5" rx="3" ry="3"/>
  <text x="200" y="485" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">cloudpix-list</text>
  
  <rect x="100" y="505" width="200" height="30" fill="white" stroke="#52c41a" stroke-width="1.5" rx="3" ry="3"/>
  <text x="200" y="525" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">cloudpix-thumbnail</text>
  
  <rect x="100" y="545" width="200" height="30" fill="white" stroke="#52c41a" stroke-width="1.5" rx="3" ry="3"/>
  <text x="200" y="565" font-family="Arial, sans-serif" font-size="13" text-anchor="middle" fill="#333333">cloudpix-tags</text>
  
  <!-- InfoBox セクション -->
  <rect x="80" y="600" width="240" height="60" fill="#fff3e8" stroke="#ffbb96" stroke-width="2" rx="8" ry="8"/>
  <text x="200" y="625" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-weight="bold" fill="#333333">主要メトリクス</text>
  <text x="200" y="645" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">処理時間・エラー率・ユーザーリクエスト</text>
  
  <!-- 接続線 - クライアントとAPI Gateway -->
  <path d="M 320 180 L 350 160" stroke="#333333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 接続線 - クライアントとCognito -->
  <path d="M 200 230 L 200 260" stroke="#333333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 接続線 - CognitoとAPI Gateway -->
  <path d="M 320 310 L 370 200" stroke="#333333" stroke-width="1.5" fill="none" stroke-dasharray="5,3" marker-end="url(#arrow)"/>
  <text x="335" y="270" font-family="Arial, sans-serif" font-size="11" fill="#333333" transform="rotate(-30 335 270)">認証</text>
  
  <!-- 接続線 - API Gateway と Lambda Functions -->
  <path d="M 450 200 L 450 220" stroke="#333333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 接続線 - Lambda と DynamoDB -->
  <path d="M 550 280 L 600 200" stroke="#333333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 接続線 - Lambda と DynamoDB (Tags) -->
  <path d="M 550 440 L 770 200" stroke="#333333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 接続線 - Lambda と S3 -->
  <path d="M 550 350 L 600 350" stroke="#333333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  
  <!-- 接続線 - S3 と Lambda (サムネイル) -->
  <path d="M 600 380 L 550 390" stroke="#333333" stroke-width="1.5" fill="none" stroke-dasharray="5,3" marker-end="url(#arrow)"/>
  <text x="570" y="400" font-family="Arial, sans-serif" font-size="11" fill="#333333">イベント</text>
  
  <!-- 接続線 - Lambda と CloudWatch -->
  <path d="M 550 360 L 610 460" stroke="#333333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  <text x="570" y="430" font-family="Arial, sans-serif" font-size="11" fill="#333333">ログ</text>
  
  <!-- 接続線 - Lambda と X-Ray -->
  <path d="M 550 400 L 770 480" stroke="#333333" stroke-width="1.5" fill="none" marker-end="url(#arrow)"/>
  <text x="650" y="425" font-family="Arial, sans-serif" font-size="11" fill="#333333">トレース</text>
  
  <!-- 接続線 - CloudWatch と SNS -->
  <path d="M 670 520 L 670 540" stroke="#333333" stroke-width="1.5" fill="none" stroke-dasharray="5,3" marker-end="url(#arrow)"/>
  
  <!-- 接続線 - CloudWatch と Dashboard -->
  <path d="M 740 490 L 770 550" stroke="#333333" stroke-width="1.5" fill="none" stroke-dasharray="5,3" marker-end="url(#arrow)"/>
  
  <!-- 接続線 - ECR と Lambda -->
  <path d="M 300 480 L 350 380" stroke="#333333" stroke-width="1.5" fill="none" stroke-dasharray="5,3" marker-end="url(#arrow)"/>
  <text x="310" y="420" font-family="Arial, sans-serif" font-size="11" fill="#333333">イメージ提供</text>
  
  <!-- マーカー定義 -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto" markerUnits="userSpaceOnUse">
      <path d="M0,0 L0,10 L10,5 z" fill="#333333" />
    </marker>
  </defs>
</svg>